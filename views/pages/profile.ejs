<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <!-- Page Title -->
  <title>Profile | Mind Drive</title>

  <!-- Meta tags for SEO -->
  <meta name="description"
    content="Profile page for Mind Drive - A platform to enhance your skills and connect with like-minded individuals. Sign up or sign in to join the community." />
  <meta name="keywords" content="Mind Drive, profile, signup, signin, community, skills enhancement, online learning" />
  <meta name="author" content="Sristy Paul & Pooranjoy Bhattacharya">
  <meta name="robots" content="index, follow" />

  <!--For social Platforms -->
  <meta property="og:title" content="Profile | Mind Drive" />
  <meta property="og:description"
    content="Join Mind Drive and enhance your skills. Create an account or sign in to access exclusive resources and community support." />

  <!--For Twitter Platforms -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Profile | Mind Drive" />
  <meta name="twitter:description"
    content="Join Mind Drive and enhance your skills. Create an account or sign in to access exclusive resources and community support." />

  <!-- Additional Meta Tags -->
  <meta name="expires" content="never">
  <meta name="rating" content="General">
  <meta name="referrer" content="no-referrer-when-downgrade">

  <!--Link Starts from here-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
  <link rel="stylesheet" href="/css/style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Playwrite+GB+S:ital,wght@0,100..400;1,100..400&family=Playwrite+IS:wght@100..400&family=Playwrite+NL:wght@100..400&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet" />
</head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>About</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
<link rel="stylesheet" href="/css/style.css" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Playwrite+GB+S:ital,wght@0,100..400;1,100..400&family=Playwrite+IS:wght@100..400&family=Playwrite+NL:wght@100..400&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap"
  rel="stylesheet" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&display=swap"
  rel="stylesheet" />
<!-- Favicon -->
<link rel="icon" href="/images/favicon.ico" type="image/x-icon">
<!-- Font Awesome CDN -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />

<!-- Tailwind css cdn  -->
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="light-theme" id="body">

  <!-- Toastify css cdn -->
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css" />

  <!-- Tailwind css cdn  -->
  <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body>

    <div class="desktop-message">
      <div class="card">This site is best viewed on a mobile device.</div>
    </div>


    <div class="content" id="profilepage">
      <% if (typeof user == 'undefined') { %>
      <div class="sidebar flex">
        <a href="/profile"> <img class="w-12 rounded-full" src="/images/avatar.jpg" alt=""></i></a>
        <div class="fixed top-2 right-4 z-50">
          <button id="theme-toggle" class="bg-blue-600 text-white p-2 rounded"> <i class="fas fa-moon"></i> </button>
        </div>
      </div>
      <% } %>

      <% if (typeof user !== 'undefined') { %>
        <%- include('../includes/sidebar') %>
      <% } %>


      <div class="flex justify-center items-center h-screen">
        <% if (typeof user == 'undefined') { %>
        <!------------------------------- user-signup--------------------------- -->
        <form id="signupForm" method="post" class="bg-gray-800 text-white shadow-md shadow-gray-400 rounded-lg p-8 w-[80%] max-w-md">
          <h2 class="text-2xl font-semibold text-center mb-2">Sign Up</h2>
          <p class="text-center text-sm text-green-600 mb-4">
            Already have account
            <a href="#" class="underline" style="color: #0000ee" onclick="toggleForm()">Sign In</a>
          </p>

          <!-- Username Input -->
          <div class="mb-6">
            <label for="username" class="block  font-semibold mb-2">Username</label>
            <input type="text" id="username" name="username"
              class="w-full p-3 border border-gray-300 bg-sky-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow duration-200"
              placeholder="Enter your username" />
          </div>

          <!-- Password Input -->
          <div class="mb-6">
            <label for="password" class="block  font-semibold mb-2">Password</label>
            <input type="password" id="password" name="password"
              class="w-full p-3 border border-gray-300 bg-sky-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow duration-200"
              placeholder="Enter your password" />

          </div>

          <!-- Submit Button -->
          <button type="submit"
            class="w-full bg-[#7C3AED] text-white py-3 rounded-lg font-semibold hover:ring-opacity-80 active:bg-[#4C1D95] hover:shadow-lg transition-all duration-300 focus:ring-4 focus:ring-purple-300 focus:ring-opacity-50">
            Submit
          </button>
        </form>

        <!------------------------------- user-signin--------------------------- -->
        <form id="signInForm" method="post" class="bg-gray-800 text-white shadow-md shadow-gray-400 rounded-lg p-8 w-[80%] max-w-md"
          style="display: none">

          <h2 class="text-2xl font-semibold text-center mb-2">Sign In</h2>
          <p class="text-center text-sm text-green-600 mb-4">
            Don't have account
            <a href="#" class="underline" style="color: #0000ee" onclick="toggleForm()">SignUp</a>
          </p>

          <!-- Username Input -->

          <div class="mb-4">
            <label for="signIn-username" class="block font-medium mb-2">Enter Username:</label>
            <input type="text" id="signIn-username" name="username"
              class="w-full p-3 border border-gray-300 rounded-lg bg-sky-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow duration-200"
              placeholder="Enter your username" />
          </div>

          <!-- Password Input -->
          <div class="mb-6">
            <label for="signIn-password" class="block font-medium mb-2">Enter Password:</label>
            <input type="password" id="signIn-password" name="password"
              class="w-full p-3 border border-gray-300 rounded-lg bg-sky-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow duration-200"
              placeholder="Enter your password" />
          </div>

          <!-- Submit Button -->
          <button type="submit"
            class="w-full bg-[#7C3AED] text-white py-3 rounded-lg font-semibold hover:ring-opacity-80 active:bg-[#4C1D95] hover:shadow-lg transition-all duration-300 focus:ring-4 focus:ring-purple-300 focus:ring-opacity-50">
            Submit
          </button>
        </form>
      </div>

      <% } %>

      <% if (typeof user !== 'undefined') { %>
        <div id="user-info">
          <script>
              document.getElementById("user-info").innerText = localStorage.getItem("userData");
          </script>
        </div>
      <% } %>

      <%- include('../includes/navbar') %>
      <script>
        const body = document.getElementById('profilepage');
        const button = document.getElementById('theme-toggle');
        
        // Function to get the currently visible form
        const getCurrentForm = () => {
          const signupForm = document.getElementById('signupForm');
          const signInForm = document.getElementById('signInForm');
          return window.getComputedStyle(signupForm).display !== "none" ? signupForm : signInForm;
        };
        
        button.addEventListener('click', () => {
          const form = getCurrentForm(); // Dynamically find the active form

          if (body.classList.contains('light-theme')) {
            body.classList.remove('light-theme');
            body.classList.add('dark-theme');
            form.classList.add('bg-white', 'text-black');
            form.classList.remove('bg-gray-800', 'text-white');
            button.innerHTML = '<i class="fas fa-sun"></i>';
          } else {
            body.classList.remove('dark-theme');
            body.classList.add('light-theme');
            form.classList.remove('bg-white', 'text-black');
            form.classList.add('bg-gray-800', 'text-white');
            button.innerHTML = '<i class="fas fa-moon"></i>'; 
          }
        });
      </script>
      <!-- <script src="/public/js/profile.js"></script> -->
        <!-- handeling form data -->
        <script src="/js/auth.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

</html>