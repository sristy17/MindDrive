<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <!-- Page Title -->
  <title>Profile | Mind Drive</title>

  <!-- Meta tags for SEO -->
  <meta name="description" content="Profile page for Mind Drive - A platform to enhance your skills and connect with like-minded individuals. Sign up or sign in to join the community." />
  <meta name="keywords" content="Mind Drive, profile, signup, signin, community, skills enhancement, online learning" />
  <meta name="author" content="Sristy Paul & Pooranjoy Bhattacharya" />
  <meta name="robots" content="index, follow" />

  <!-- Social Media Meta Tags -->
  <meta property="og:title" content="Profile | Mind Drive" />
  <meta property="og:description" content="Join Mind Drive and enhance your skills. Create an account or sign in to access exclusive resources and community support." />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Profile | Mind Drive" />
  <meta name="twitter:description" content="Join Mind Drive and enhance your skills. Create an account or sign in to access exclusive resources and community support." />

  <!-- Additional Meta Tags -->
  <meta name="expires" content="never" />
  <meta name="rating" content="General" />
  <meta name="referrer" content="no-referrer-when-downgrade" />

  <!-- Stylesheets -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css" />
  <link rel="stylesheet" href="/css/style.css" />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet" />

  <!-- Favicon -->
  <link rel="icon" href="/images/favicon.ico" type="image/x-icon" />

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="light-theme" id="body">

  <!-- Desktop Message -->
  <div class="desktop-message">
    <div class="card">This site is best viewed on a mobile device.</div>
  </div>

  <!-- Content -->
  <div class="content">
    <% if (typeof user == 'undefined') { %>
      <div class="sidebar flex">
        <a href="/profile"><img class="w-12 rounded-full" src="/images/avatar.jpg" alt="Avatar"></a>
        <div class="fixed top-2 right-4 z-50">
          <button id="theme-toggle" class="bg-blue-600 text-white p-2 rounded"><i class="fas fa-moon"></i></button>
        </div>
      </div>
    <% } else { %>
      <%- include('../includes/sidebar') %>
    <% } %>

    <!-- Forms -->
    <div class="flex justify-center items-center h-screen">
      <% if (typeof user == 'undefined') { %>
        <!-- Sign Up Form -->
        <form id="signupForm" method="post" class="bg-white shadow-lg rounded-lg p-8 w-[80%] max-w-md">
          <h2 class="text-2xl font-semibold text-center mb-2">Sign Up</h2>
          <p class="text-center text-sm text-green-600 mb-4">
            Already have an account? <a href="#" class="underline text-blue-600" onclick="toggleForm()">Sign In</a>
          </p>
          <div class="mb-6">
            <label for="username" class="block text-gray-700 font-semibold mb-2">Username</label>
            <input type="text" id="username" name="username" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow duration-200" placeholder="Enter your username" />
          </div>
          <div class="mb-6">
            <label for="password" class="block text-gray-700 font-semibold mb-2">Password</label>
            <input type="password" id="password" name="password" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow duration-200" placeholder="Enter your password" />
          </div>
          <button type="submit" class="w-full bg-purple-700 text-white py-3 rounded-lg font-semibold hover:ring-opacity-80 active:bg-purple-900 hover:shadow-lg transition-all duration-300 focus:ring-4 focus:ring-purple-300">Submit</button>
        </form>

        <!-- Sign In Form -->
        <form id="signInForm" method="post" class="bg-white shadow-lg rounded-lg p-8 w-[80%] max-w-md" style="display: none;">
          <h2 class="text-2xl font-semibold text-center mb-2">Sign In</h2>
          <p class="text-center text-sm text-green-600 mb-4">
            Don't have an account? <a href="#" class="underline text-blue-600" onclick="toggleForm()">Sign Up</a>
          </p>
          <div class="mb-6">
            <label for="signIn-username" class="block text-gray-700 font-medium mb-2">Username</label>
            <input type="text" id="signIn-username" name="username" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow duration-200" placeholder="Enter your username" />
          </div>
          <div class="mb-6">
            <label for="signIn-password" class="block text-gray-700 font-medium mb-2">Password</label>
            <input type="password" id="signIn-password" name="password" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow duration-200" placeholder="Enter your password" />
          </div>
          <button type="submit" class="w-full bg-purple-700 text-white py-3 rounded-lg font-semibold hover:ring-opacity-80 active:bg-purple-900 hover:shadow-lg transition-all duration-300 focus:ring-4 focus:ring-purple-300">Submit</button>
        </form>
      <% } else { %>
        <div id="user-info">
          <script>
            document.getElementById("user-info").innerText = localStorage.getItem("userData");
          </script>
        </div>
      <% } %>
    </div>

    <!-- Navbar -->
    <%- include('../includes/navbar') %>
  </div>

  <!-- Scripts -->
  <script src="/js/global.js"></script>
  <script src="/js/Profile.js"></script>
  <script src="/js/auth.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
</body>

</html>
